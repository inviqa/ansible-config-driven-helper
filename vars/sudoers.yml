---
ansible_managed: "Managed by Inviqa: {file} modified on %Y-%m-%d %H:%M:%S by {uid} on {host}"

inviqa_group_ids:
  support:              '2000'
  support_ooh:          '2001'
  qualysguard:          '2002'

  production_admin:     '2011'
  production_deploy:    '2012'
  production_provision: '2013'

  pipeline_admin:       '2021'
  pipeline_deploy:      '2022'
  pipeline_provision:   '2023'

inviqa_alternate_group_ids:
  support:              '3000'
  support_ooh:          '3001'
  qualysguard:          '3002'

  production_admin:     '3011'
  production_deploy:    '3012'
  production_provision: '3013'

  pipeline_admin:       '3021'
  pipeline_deploy:      '3022'
  pipeline_provision:   '3023'

#the default is set to use PIPELINE values
sudoers_group_gids:
  inviqa_support:     "{{ inviqa_group_ids.support }}"
  inviqa_support_ooh: "{{ inviqa_group_ids.support_ooh }}"
  admin:              "{{ inviqa_group_ids.pipeline_admin }}"
  deploy:             "{{ inviqa_group_ids.pipeline_deploy }}"
  provision:          "{{ inviqa_group_ids.pipeline_provision }}"

sudoers_groups:
  - gid: "{{ sudoers_group_gids.inviqa_support | mandatory }}"
    filename: zza_inviqa-support
    permissions: 'ALL=(ALL:ALL) PASSWD: ALL'
  - gid: "{{ sudoers_group_gids.inviqa_support_ooh | mandatory }}"
    filename: zza_inviqa-support-ooh
    permissions: 'ALL=(ALL:ALL) PASSWD: ALL'
  - gid: "{{ sudoers_group_gids.admin | mandatory }}"
    filename: zzz_inviqa-admin
    permissions: 'ALL=(ALL:ALL) PASSWD: ALL'
  - gid: "{{ sudoers_group_gids.deploy | mandatory }}"
    filename: zzz_inviqa-deploy
    permissions: 'ALL=(deploy) NOPASSWD: ALL'
  - gid: "{{ sudoers_group_gids.provision | mandatory }}"
    filename: zzz_inviqa-provision
    permissions: 'ALL=(root) NOPASSWD: ALL'
...
